<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thแปง Cแปญa - Hardcore Economy</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>

    <header>
        <div class="stat-box"><span class="stat-icon">โค๏ธ</span> <span id="lives">20</span></div>
        <div class="stat-box"><span class="stat-icon">๐ฐ</span> <span id="money">50</span></div>
        <div class="stat-box"><span class="stat-icon">๐</span> ฤแปฃt: <span id="wave">1</span></div>
        <div class="stat-box" id="map-info" title="Thรดng tin bแบฃn ฤแป hiแปn tแบกi">
            <span class="stat-icon">๐บ๏ธ</span> <span id="map-name">Thung Lลฉng Khรณ Khฤn</span> 
            <div class="difficulty-indicator" id="map-difficulty-container">
                <div class="difficulty-stars" id="difficulty-stars"></div>
                <span class="difficulty-text" id="map-difficulty">ฤแป khรณ: 3</span>
                <div class="difficulty-bar">
                    <div class="difficulty-fill" id="difficulty-fill"></div>
                </div>
            </div>
        </div>
        <div class="stat-box towers-info-toggle" onclick="toggleTowersPanel()" title="Nhแบฅn ฤแป xem chi tiแบฟt thรกp">
            <span class="stat-icon">๐ฐ</span> Chi tiแบฟt thรกp
        </div>
    </header>

    <div id="towers-panel" class="towers-panel hidden">
        <h3>Thรกp trรชn sรn</h3>
        <div id="towers-list" class="towers-list"></div>
    </div>

    <div id="damage-stats" class="damage-stats">
        <h3>๐ THแปNG Kร SรT THฦฏฦNG</h3>
        <p style="text-align: center; color: #bdc3c7; font-size: 0.9rem;">Chฦฐa gรขy sรกt thฦฐฦกng</p>
    </div>

    <div id="game-wrapper">
        <div id="game-container">
            <!-- Game Canvas: 1200x800 -->
            <canvas id="gameCanvas" width="1200" height="800"></canvas>
            
            <div id="next-wave-container">
                <button id="btn-next-wave" class="btn-wave" onclick="handleWaveButtonClick()">๐๏ธ XEM THรNG TIN ฤแปขT 1</button>
            </div>

            <!-- Wave Notification Popup -->
            <div id="wave-notification" class="wave-notification hidden">
                <div class="wave-notification-content">
                    <h3 id="wave-notification-title">ฤแปฃt 2 ฤang tแปi</h3>
                    <p id="wave-notification-text">Quรกi cแบงn sรบng gรฌ?</p>
                </div>
            </div>

            <!-- Debug Restart Button -->
            <button onclick="resetGame()" style="position: absolute; top: 10px; right: 10px; z-index: 1000; background: rgba(0,0,0,0.7); color: white; border: none; padding: 5px 10px; border-radius: 5px; cursor: pointer;">๐ Restart</button>
            
            <!-- Start Screen -->
            <div id="start-screen" class="overlay">
                <h1>THแปฆ CแปฌA: CHIแบพN LฦฏแปขC</h1>
                <div class="instructions">
                    <p>Chรo mแปซng ฤแบฟn vแปi Thแปง Cแปญa: Chiแบฟn Lฦฐแปฃc! Nhiแปm vแปฅ cแปงa bแบกn lร bแบฃo vแป cฤn cแปฉ khแปi cรกc ฤแปฃt quรกi vแบญt tแบฅn cรดng bแบฑng cรกch xรขy dแปฑng vร nรขng cแบฅp thรกp phรฒng thแปง.</p>
                    <ul>
                        <li><strong>๐ฐ TIแปN KHร KIแบพM:</strong> Bแบกn chแป cรณ 50$ ฤแป bแบฏt ฤแบงu! Phแบฃi trแปng cรขy ฤแป kiแบฟm tiแปn.</li>
                        <li>๐ฑ <strong>VฦฏแปN CรY Bร MแบฌT:</strong> Nhแบฅn TAB hoแบทc click cแปng ฤแป vรo vฦฐแปn trแปng cรขy kiแบฟm tiแปn.</li>
                        <li>๐ง <strong>TฦฏแปI NฦฏแปC:</strong> Cรขy sแบฝ chแบฟt nแบฟu khรดng ฤฦฐแปฃc tฦฐแปi nฦฐแปc ฤรบng lรบc!</li>
                        <li>Sแปญ dแปฅng chuแปt ฤแป chแปn vร ฤแบทt thรกp trรชn bแบฃn ฤแป.</li>
                        <li>Sแปญ dแปฅng phรญm sแป (1-8) ฤแป nhanh chรณng chแปn thรกp.</li>
                        <li><strong>Chuแปt phแบฃi ฤแป hแปงy chแปn sรบng ฤรฃ chแปn.</strong></li>
                        <li>Theo dรตi sแป mแบกng sแปng, tiแปn vร ฤแปฃt hiแปn tแบกi แป gรณc trรชn bรชn trรกi mรn hรฌnh.</li>
                        <li>Nhแบฅn nรบt "BแบฎT ฤแบฆU" ฤแป bแบฏt ฤแบงu
                </div>
                <button class="btn-primary" onclick="startGame()">BแบฎT ฤแบฆU</button>
            </div>

            <!-- Game Over Screen -->
            <div id="game-over-screen" class="overlay hidden">
                <h1 style="color: #e74c3c;">THแบคT BแบI!</h1>
                <p id="final-score" style="font-size: 1.2rem; margin-bottom: 20px;"></p>
                <button class="btn-primary" onclick="resetGame()">CHฦI LแบI</button>
            </div>
            
            <div id="tooltip"></div>
        </div>
    </div>

    <div id="controls">
        <div class="tower-select" onclick="selectTower('basic')" id="btn-basic" onmouseover="showTooltip(event, 'Cung Thแปง (50$): Rแบป, tแปc ฤแป trung bรฌnh')" onmouseout="hideTooltip()">
            <div class="shortcut-key">1</div>
            <span class="tower-icon">๐น</span>
            <span class="tower-cost">50$</span>
        </div>
        
        <div class="tower-select" onclick="selectTower('ice')" id="btn-ice" onmouseover="showTooltip(event, 'Bฤng Giรก (75$): Lรm chแบญm, KHรNG sรกt thฦฐฦกng')" onmouseout="hideTooltip()">
            <div class="shortcut-key">2</div>
            <span class="tower-icon">โ๏ธ</span>
            <span class="tower-cost">75$</span>
        </div>

        <div class="tower-select" onclick="selectTower('poison')" id="btn-poison" onmouseover="showTooltip(event, 'ฤแปc Dฦฐแปฃc (100$): Rรบt mรกu theo thแปi gian')" onmouseout="hideTooltip()">
            <div class="shortcut-key">3</div>
            <span class="tower-icon">๐งช</span>
            <span class="tower-cost">100$</span>
        </div>

        <div class="tower-select" onclick="selectTower('sniper')" id="btn-sniper" onmouseover="showTooltip(event, 'Bแบฏn Tแปa (150$): Bแบฏn chแบญm, sรกt thฦฐฦกng CแปฐC LแปN')" onmouseout="hideTooltip()">
            <div class="shortcut-key">4</div>
            <span class="tower-icon">๐ญ</span>
            <span class="tower-cost">150$</span>
        </div>

        <div class="tower-select" onclick="selectTower('tesla')" id="btn-tesla" onmouseover="showTooltip(event, 'Tesla (120$): Bแบฏn xรญch ฤiแปn, ฤn cฦกm tแปซng nhรขn')" onmouseout="hideTooltip()">
            <div class="shortcut-key">5</div>
            <span class="tower-icon">โก</span>
            <span class="tower-cost">120$</span>
        </div>

        <div class="tower-select" onclick="selectTower('laser')" id="btn-laser" onmouseover="showTooltip(event, 'Laser (180$): Xuyรชn qua quรกi, bแบฏn chแบญm')" onmouseout="hideTooltip()">
            <div class="shortcut-key">6</div>
            <span class="tower-icon">๐ด</span>
            <span class="tower-cost">180$</span>
        </div>

        <div class="tower-select" onclick="selectTower('rocket')" id="btn-rocket" onmouseover="showTooltip(event, 'Rocket (200$): Nแป diแปn rแปng, lรm chแบญm')" onmouseout="hideTooltip()">
            <div class="shortcut-key">7</div>
            <span class="tower-icon">๐</span>
            <span class="tower-cost">200$</span>
        </div>

        <div class="tower-select" onclick="selectTower('support')" id="btn-support" onmouseover="showTooltip(event, 'Support (160$): Tฤng cแปng hฦฐแปng thรกp gแบงn ฤรณ')" onmouseout="hideTooltip()">
            <div class="shortcut-key">8</div>
            <span class="tower-icon">โจ</span>
            <span class="tower-cost">160$</span>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/config.js"></script>
    <script src="js/classes.js"></script>
    <script src="js/map.js"></script>
    <script src="js/input.js"></script>
    <script src="js/ui-rendering.js"></script>
    <script src="js/farm.js"></script>
    <script src="js/farm-ui.js"></script>
    <script src="js/game.js"></script>

</body>
</html>
